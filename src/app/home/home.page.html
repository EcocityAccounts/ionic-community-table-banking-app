<ion-header>
  <ion-toolbar color='primary'>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Employee List
    </ion-title>
    <ion-buttons slot='end'>
        <ion-button (click)="showOrganizationChart()">
            <ion-icon slot="icon-only" name="people"></ion-icon>
        </ion-button>
        <ion-button routerLink="/login">
          <ion-icon slot="icon-only" name="log-in"></ion-icon>
        </ion-button>
      </ion-buttons>
  </ion-toolbar>
  <ion-toolbar color="primary">
    <ion-searchbar [formControl]="searchControl" animated="true" show-cancel-button (ionInput)="searchEmployees($event)" (ionCancel)="cancelSearch($event)" placeholder="Search">
    </ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <ion-list>
    <ion-item-group *ngFor="let item of result">
      <ion-item-divider color="light">{{item._id}}</ion-item-divider>
      <ion-item *ngFor="let employee of item.employees" tappable routerLink="/detail/{{ employee.employee_name }}">
        <ion-avatar slot="start">
          <img [src]="employee.avatar" alt="Avatar" />
        </ion-avatar>
        <ion-label>
          <h2>{{ employee.employee_name }}</h2>
          <h3>{{ employee.job_position }}</h3>
          <p>{{ employee.description }}</p>
        </ion-label>
        <ion-badge slot="end" color="primary">{{ employee.department }}</ion-badge>
      </ion-item>
    </ion-item-group>
    <!--<ion-item *ngFor="let employee of employees" tappable (click)="viewEmployeeDetails(employee)">-->
    <!--
    <ion-item *ngFor="let employee of employees" tappable routerLink="/detail/{{ employee.employee_name }}">
      <ion-avatar slot="start">
        <img [src]="employee.avatar" alt="Avatar" />
      </ion-avatar>
      <ion-label>
        <h2>{{ employee.employee_name }}</h2>
        <h3>{{ employee.job_position }}</h3>
        <p>{{ employee.description }}</p>
      </ion-label>
      <ion-badge slot="end" color="primary">{{ employee.department }}</ion-badge>
    </ion-item>
    -->
  </ion-list>
</ion-content>

<ion-footer>
  <ion-toolbar color="primary">
      <ion-title>© {{ currentYear }} Adrián Brito Pacheco</ion-title>
      <ion-buttons slot="end">
        <div class="github-button"><iframe allowtransparency="true" scrolling="no" frameborder="0" src="https://buttons.github.io/buttons.html#href=https%3A%2F%2Fgithub.com%2Fabritopach%2Fangular-ionic-master-detail&amp;title=&amp;aria-label=Star%20abritopach%2Fangular-ionic-master-detail%20on%20GitHub&amp;data-icon=octicon-star&amp;data-text=Star" style="width: 50px; height: 20px; border: none; padding-right: 5px"></iframe></div>
        <div class="github-button"><iframe allowtransparency="true" scrolling="no" frameborder="0" src="https://buttons.github.io/buttons.html#href=https%3A%2F%2Fgithub.com%2Fabritopach&amp;title=&amp;aria-label=Follow%20%40abritopach%20on%20GitHub&amp;data-text=GitHub" style="width: 67px; height: 20px; border: none;"></iframe></div>
      </ion-buttons>
  </ion-toolbar>
</ion-footer>
